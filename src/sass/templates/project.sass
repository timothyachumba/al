@use "../libs/mixins"
@use "../libs/type"
@use "../libs/tokens"
@use "../snippets/global/navigation"
@use "../snippets/global/subscribe"
@use "../snippets/global/conversion"
@use "../snippets/blocks/project-hero"
@use "../snippets/blocks/ticker"
@use "../snippets/blocks/vendor-list"
@use "../snippets/blocks/main-layout"

@function p3($hex)
  @return color(display-p3, (red($hex) / 255), (green($hex) / 255), (blue($hex) / 255))



@mixin responsive-font-size($base-size, $vw-weight: 1vw, $vh-weight: 1vh)
  font-size: calc(#{$base-size} + #{$vw-weight} + #{$vh-weight})

@keyframes name-slide
  0%
    transform: translateY(400px)
    opacity: 0
  100%
    transform: translateY(0)
    opacity: 1

body.project
  background-color: var(--backgroundColor)
  background-color: var(--backgroundColorP3)
  color: var(--textColor)
  color: var(--textColorP3)

  .layout
    display: flex
    flex-direction: column
    text-wrap: wrap

    @include mixins.sm
      flex-direction: row

    &.padding
      padding: mixins.rscale(16,32)
      gap: mixins.rscale(16,32)

    &.m-square
      .main-layout
        min-height: 100vw

        @include mixins.sm
          height: 100vh


    &.bg-background
      background-color: var(--backgroundColor)
      background-color: var(--backgroundColorP3)

      .ticker-wrapper
        background-color: var(--backgroundColor) !important
        background-color: var(--backgroundColorP3) !important

    &.bg-foreground
      background-color: var(--textColor)
      background-color: var(--textColorP3)

      .ticker-wrapper
        background-color: var(--textColor) !important
        background-color: var(--textColorP3) !important

    &.bg-neutral
      background-color: tokens.$black

    &.t-background
      color: var(--backgroundColor)
      color: var(--backgroundColorP3)

      .ticker-wrapper
        color: var(--backgroundColor) !important
        color: var(--backgroundColorP3) !important

    &.t-foreground
      color: var(--textColor)
      color: var(--textColorP3)

      .ticker-wrapper
        color: var(--textColor) !important
        color: var(--textColorP3) !important

    &.t-neutral
      color: tokens.$black

    &.stacked
      .main-layout
        .content
          flex-direction: column
          gap: mixins.rscale(8,16)
          
          h2
            font-style: normal
            font-weight: 600
          .text
            max-width: 100%

    .column
      display: flex
      flex-direction: column
      width: 100%
      gap: mixins.rscale(16,32)
      
      @include mixins.sm
        width: calc((var(--span) / 12) * 100%)

      .item
        &:has(> figure)
          flex: 1
          overflow: hidden

        &:has(> .spacer)
          flex: 1

      figure
        font-size: 0
        width: 100%
        height: 100%
        box-sizing: border-box

        &.m-square img
          height: 100vw

          @include mixins.sm
            height: 100%

        &.portrait img
          height: 120vw

          @include mixins.sm
            height: 100%

      img
        width: 100%
        height: 100%
        object-fit: cover

      .text-block
        h2
          margin-bottom: mixins.rscale(12,24)

        em
          font-style: normal
          font-size: mixins.rscale(16,24)

      .spacer
        flex: 1


    &.kitting

      .main-layout
        min-height: auto
        padding: 0

        @include mixins.sm
          padding: mixins.rscale(16,32)

      &.fill
        width: auto

        @include mixins.sm
          width: 100vw

      .image
        overflow-x: scroll
        font-size: 0
        padding: mixins.rscale(16,32)

        @include mixins.sm
          padding: 0
          overflow-x: hidden

      img
        position: relative
        height: 120vw
        width: auto

        @include mixins.sm
          height: 100vh
          width: 100%

    &.m-border
      .main-layout
        gap: 0

        .content
          order: 1

        .image
          order: 2
          margin: 0 mixins.rscale(16,32) mixins.rscale(16,32) mixins.rscale(16,32)

          @include mixins.sm
            margin: 0

      .image
        position: relative
        padding: mixins.rscale(16,32)

        @include mixins.sm
          padding: 0
          position: absolute

    &.the-designer
      padding: mixins.rscale(16,32)
      display: flex
      flex-direction: column
      justify-content: space-between
      gap: mixins.rscale(16,32)
      left: -500px
      top: 0
      text-align: center

      @include mixins.sm
        width: 500px
        text-align: left

      h2
        @include type.title
        white-space: normal

      p, a
        @include type.caption
        white-space: normal
        text-align: justify

      .divider
        width: 100%
        height: 1px
        background: tokens.$black

      .portrait
        width: 50%
        aspect-ratio: 3/4
        background-color: tokens.$black
        margin: 0 auto 

        @include mixins.sm
          margin: 0
        

      form
        border: 1px solid tokens.$black

        input
          color: tokens.$black

          &::placeholder
            color: tokens.$black

        button
          background: tokens.$black
          color: var(--textColor)

      .bio
        display: flex
        flex-direction: column
        gap: mixins.rscale(16,24)

      .links
        display: flex
        gap: mixins.rscale(16,24)
        justify-content: space-between
        list-style-type: none

        a
          text-decoration: none
          color: tokens.$black

          &:hover
            text-decoration: underline

    &.aperture-priority,
    &.gestalt,
    &.balance,
    &.slab65,
    &.odd-shapes,
    &.motif,
    &.motif65
      color: var(--textColor)
      color: var(--textColorP3)

      .portrait
        background-color: var(--backgroundColor)
        background-color: var(--backgroundColorP3)

      .divider
        background: var(--backgroundColor)
        background: var(--backgroundColorP3)

      &.the-designer

        form
          border: 1px solid var(--backgroundColor) !important
          border: 1px solid var(--backgroundColorP3) !important

          input
            color: var(--textColor) !important
            color: var(--textColorP3) !important

            &::placeholder
              color: var(--textColor) !important
              color: var(--textColorP3) !important

          button
            background: var(--backgroundColor) !important
            background: var(--backgroundColorP3) !important
            color: var(--textColor) !important
            color: var(--textColorP3) !important


      .links
        a
          color: var(--textColor)
          color: var(--textColorP3)

      .motif-logo-container
        display: flex
        align-items: center
        justify-content: center
        background-color: #E4D7CB
        background-color: color(display-p3 0.894118 0.843137 0.796078 / 1.000000)
        height: 80vh
        width: 100%

        @include mixins.sm
          height: calc(100vh - mixins.rscale(32,64))

        svg
          overflow: visible
          height: 90%
          width: 90%

          @include mixins.sm
            width: auto

      .main-layout
        @include mixins.sm
          min-height: auto

    &.aperture-priority
      color: var(--textColor)
      color: var(--textColorP3)

      &.the-artisan
        color: white

      &.the-designer
        color: var(--backgroundColor) !important
        color: var(--backgroundColorP3) !important

      .main-layout
        min-height:80vh

        @include mixins.sm
          min-height: auto

    &.motif65
      color: var(--textColor)
      color: var(--textColorP3)
      font-family: type.$abc !important

      img
        border-radius: mixins.rscale(16,32)
        overflow: hidden

      .button
        background-color: var(--text-color) !important

      &.motif65-intro
        .column
          min-height: 80vh


        .text-block
          p
            font-size: mixins.rscale(18,40)
            font-weight: 625

        .button
          font-size: mixins.rscale(20,32)
          font-weight: 625
          font-family: type.$abc !important
          font-style: normal
          text-transform: none
          letter-spacing: normal
          height: auto
          padding: mixins.rscale(16,24) mixins.rscale(32,48)
          background-color: #DD3D2E !important
          background-color: p3(#DD3D2E) !important

      
      &.the-designer
        background: var(--backgroundColor) !important
        background: var(--backgroundColorP3) !important

        .portrait
          background-color: var(--textColorP3)
          background-color: var(--textColorP3)

        .divider
          background: var(--textColorP3)
          background: var(--textColorP3)

        a
          color: var(--textColorP3)


        form
          border: 1px solid var(--textColor) !important
          border: 1px solid var(--textColor) !important

          input
            color: var(--textColor) !important
            color: var(--textColor) !important

            &::placeholder
              color: var(--textColor) !important
              color: var(--textColor) !important

          button
            background: var(--textColor) !important
            background: var(--textColor) !important
            color: var(--backgroundColor) !important
            color: var(--backgroundColorP3) !important

    &.motif,
    &.motif65
      font-family: type.$abc
      p
        font-weight: 625
        text-transform: none
        letter-spacing: normal
        font-size: mixins.rscale(16,18)
        font-family: type.$abc
        text-align: left

      h2
        @include type.caption
        font-family: type.$abc
        font-style: normal
        font-weight: 625
        font-size: mixins.rscale(16,18)
    &.motif
      &.the-designer
        color: var(--backgroundColor)
        color: var(--backgroundColorP3)

        a
          color: var(--backgroundColor)
          color: var(--backgroundColorP3)

        form
          border: 1px solid var(--backgroundColor) !important
          border: 1px solid var(--backgroundColorP3) !important

          input
            color: var(--backgroundColor) !important
            color: var(--backgroundColor) !important

            &::placeholder
              color: var(--backgroundColor) !important
              color: var(--backgroundColor) !important

          button
            background: var(--backgroundColor) !important
            background: var(--backgroundColorP3) !important
            color: var(--textColor) !important
            color: var(--textColorP3) !important

      
      
          