<?php
  // Access block fields using $block->fieldname()->value()
  $tagline = $block->tagline()->value();
  $image = $block->image()->toFile();
  $timing = $block->timing()->value();
?>

<?php
    // Assuming $page->images() is a structure field containing your images and colors
    $imageEntries = $block->images()->toStructure(); // Convert the structure field to a Kirby structure object
    $cssVariables = '';
    $i = 1;
    
    foreach ($imageEntries as $entry) {
      $image = $entry->image()->toFile(); // Assuming 'image' is the key for the image in the structure
      if($image) { // Check if the image exists
        $cssVariables .= "--image-url-" . $i . ": url('" . $image->url() . "');\n";
        $cssVariables .= "--color-" . $i . ": " . $entry->background_color() . ";\n";
        $i++;
      }
    }
?>


<div class="project-hero odd-shapes-hero" style="<?= $cssVariables  ?> background-image: url('<?= $image->url() ?>; ">
  <div class="project-hero__header">
    <p class="project-hero__header__tag">
      <?= $tagline ?>
    </p>
    <?php snippet('global/subscribe') ?>
  </div>
  <div class="project-hero__image">
    <svg viewBox="0 0 913 330" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M711.652 240.432V273.087C712.119 285.691 722.856 295.494 735.46 295.494C748.064 295.494 758.334 285.691 759.267 273.087V270.33C759.267 261.461 766.269 253.991 775.139 253.991C784.475 253.991 791.478 261.461 791.478 270.33V273.087C791.011 303.897 765.803 328.171 735.46 328.171C704.65 328.171 679.909 303.897 679.442 273.087V189.674C679.909 159.331 704.65 135.057 735.46 135.057C735.972 135.057 738.665 135.064 739.174 135.077C768.829 135.879 793.2 159.844 793.659 189.674V224.56C793.659 233.43 786.657 240.432 777.32 240.432H711.652ZM735.46 167.267C722.389 166.8 712.119 177.07 711.652 189.674V208.222H761.449V189.674C761.002 177.624 751.17 167.708 739.293 167.267C738.746 167.247 736.014 167.246 735.46 167.267Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M731.995 0.000670383C764.672 0.000670383 791.281 25.2087 791.281 55.5517V56.9521C791.281 87.7619 764.672 112.503 731.995 112.503H666.427V312.767C666.427 321.636 658.958 328.639 650.089 328.639C641.219 328.639 634.217 321.636 634.217 312.767V16.3392C633.75 16.3392 633.75 16.3392 634.217 16.3392C634.217 7.4697 641.219 0.000670383 650.089 0.000670383H731.995ZM759.071 56.9521V55.5517C759.071 42.9477 746.467 32.6777 731.995 32.6777H666.427V80.2929H731.995C746.467 80.2929 759.071 69.5561 759.071 56.9521Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M187.673 328.638C154.996 328.638 128.387 303.43 128.387 273.087V271.686C128.387 240.877 154.996 216.135 187.673 216.135H253.241L253.241 15.8717C253.241 7.00223 260.71 -7.75395e-07 269.579 0C278.449 7.75395e-07 285.451 7.00223 285.451 15.8717V312.299C285.918 312.299 285.918 312.299 285.451 312.299C285.451 321.169 278.449 328.638 269.579 328.638L187.673 328.638ZM160.597 271.686V273.087C160.597 285.691 173.201 295.961 187.673 295.961H253.241L253.241 248.346L187.673 248.346C173.201 248.346 160.597 259.082 160.597 271.686Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M566.614 131.528C596.957 130.595 622.165 154.869 623.099 185.212V311.833C623.099 321.169 616.096 328.172 607.227 328.172C597.891 328.172 590.888 321.169 590.888 311.833V238.896H542.34V311.833C542.34 320.703 534.871 327.705 526.001 327.705C517.132 327.705 510.129 320.703 510.129 311.833V185.212C510.596 154.869 536.271 130.595 566.614 131.528ZM542.34 206.686H590.888V185.212C589.955 172.608 579.218 162.805 566.614 163.739C554.01 162.805 542.806 172.608 542.34 185.212V206.686Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M602.953 0.000662806C611.823 0.000662806 619.292 7.00289 619.292 15.8724V109.674C619.292 118.544 611.823 126.013 602.953 126.013C594.084 126.013 587.082 118.544 587.082 109.674V109.702H492.724V312.767C492.724 321.636 485.255 329.105 476.385 329.105C467.516 329.105 460.514 321.636 460.514 312.767V15.8724C460.514 7.00289 467.516 0.000662806 476.385 0.000662806C485.255 0.000662806 492.724 7.00289 492.724 15.8724V77.492H587.082V15.8724C587.082 7.00289 594.084 0.000662806 602.953 0.000662806Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M389.356 0.934213C359.013 0.934211 334.272 25.2086 333.338 55.5516V78.7091C333.338 100.909 344.775 121.543 363.602 133.307L389.936 149.762C404.675 158.973 413.63 175.127 413.63 192.507V272.799C412.696 285.403 402.426 295.206 389.822 295.206C377.218 295.206 366.481 285.403 366.015 272.799V236.855C366.015 227.985 358.545 220.983 349.676 220.983C340.806 220.983 333.337 227.985 333.337 236.855V272.799C334.271 303.142 359.012 327.417 389.822 327.417C420.165 327.417 444.906 303.142 445.84 272.799V202.672C445.84 172.004 430.694 143.314 405.371 126.014L382.878 110.647C372.292 103.415 365.841 91.5256 365.548 78.7091V55.5516C366.482 42.9476 376.752 33.1445 389.356 33.1445C401.96 33.1445 412.696 42.9476 413.163 55.5516V91.4964C413.163 100.366 420.632 107.368 429.502 107.368C438.371 107.368 445.84 100.366 445.84 91.4964V55.5516C444.907 25.2086 420.166 0.934216 389.356 0.934213Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M856.271 0.934234C825.928 0.934231 801.187 25.2086 800.253 55.5516V78.7091C800.253 100.909 811.691 121.543 830.518 133.307L856.851 149.763C871.591 158.973 880.545 175.127 880.545 192.507V272.799C879.611 285.403 869.342 295.206 856.737 295.206C844.133 295.206 833.397 285.403 832.93 272.799V263.031C832.93 254.162 825.461 247.159 816.591 247.159C807.722 247.159 800.253 254.162 800.253 263.031V272.799C801.186 303.142 825.928 327.417 856.737 327.417C887.08 327.417 911.822 303.142 912.755 272.799V202.672C912.755 172.004 897.61 143.314 872.286 126.014L849.793 110.647C839.208 103.415 832.756 91.5256 832.464 78.7092V55.5516C833.397 42.9476 843.667 33.1445 856.271 33.1445C868.875 33.1445 879.612 42.9476 880.079 55.5516V91.4964C880.079 100.366 887.548 107.368 896.417 107.368C905.287 107.368 912.756 100.366 912.756 91.4964V55.5516C911.822 25.2086 887.081 0.934236 856.271 0.934234Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M178.825 0.467426C213.369 0.467426 241.845 28.9431 241.845 63.4875V139.098C241.845 173.643 213.369 201.652 178.825 201.652H144.747C135.878 201.652 128.876 194.65 128.876 185.78V16.8059C128.876 7.93646 135.878 0.467426 144.747 0.467426H178.825ZM209.635 139.098V63.4875C209.168 46.6821 195.63 33.1445 178.825 33.1445H161.086V169.441H178.825C195.63 169.441 209.168 155.904 209.635 139.098Z" fill="white" style="fill:white;fill-opacity:1;"/>
      <path d="M57.7073 0.467421C88.9839 0.467421 114.659 25.6755 114.659 57.4189V271.687C114.659 302.964 88.9839 328.639 57.7073 328.639C25.9639 328.639 0.755859 302.964 0.755859 271.687V57.4189C0.755859 25.6755 25.9639 0.467421 57.7073 0.467421ZM82.4485 271.687V57.4189C82.4485 43.8812 71.245 32.6777 57.7073 32.6777C43.7029 32.6777 32.9661 43.8812 32.9661 57.4189V271.687C32.9661 285.225 43.7029 296.428 57.7073 296.428C71.245 296.428 82.4485 285.225 82.4485 271.687Z" fill="white" style="fill:white;fill-opacity:1;"/>
    </svg>
  </div>
  </div>  
</div>