<div class="motif-logo-container" data-scroll data-scroll-offset="50%">
  <svg viewBox="0 0 475 760" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path class="t" fill-rule="evenodd" clip-rule="evenodd" d="M90.6137 340.952C91.4713 340.799 92.3312 341.218 92.7244 341.995C100.791 357.942 104.103 376.116 101.877 394.295L81.2328 562.851C81.0692 564.186 82.2445 565.299 83.5691 565.063L250.355 535.323C251.68 535.087 252.398 533.637 251.783 532.44L174.153 381.404C165.781 365.116 162.608 346.918 164.665 329.168C164.765 328.302 165.427 327.612 166.285 327.459L173.09 326.246C174.144 326.058 174.95 326.514 175.054 327.095L179.355 351.216C184.235 378.582 229.129 393.909 262.999 388.751C264.091 388.585 264.81 387.545 264.616 386.457L247.233 288.969C247.039 287.882 246 287.157 244.913 287.351L173.056 300.164L74.8258 317.68L2.96895 330.493C1.88153 330.686 1.15719 331.725 1.35109 332.813L18.7344 430.301C18.9283 431.388 19.962 432.116 21.044 431.894C54.2726 425.079 91.0947 395.185 86.5604 367.763L82.2593 343.641C82.1556 343.06 82.4033 342.416 83.457 342.228L90.6137 340.952Z" fill="#1D824D" style="fill:#1D824D;fill:color(display-p3 0.1154 0.5079 0.3001);fill-opacity:1;"/>
    <path class="o" d="M377.122 178.247C350.736 169.444 344.365 200.395 338.386 218.315C334.699 199.771 332.253 168.25 304.978 173.587C276.505 179.159 288.121 212.095 291.901 231.109C278.899 216.683 259.417 187.66 237.846 206.984C217.183 225.495 241.033 246.367 253.714 260.437C235.731 254.437 207.045 240.926 198.273 267.22C189.501 293.513 220.553 299.931 238.537 305.931C219.948 309.569 188.343 311.94 193.753 339.15C199.401 367.554 232.406 356.042 251.466 352.312C237.027 365.247 207.963 384.613 227.387 406.163C245.994 426.808 266.875 403.069 280.958 390.453C274.98 408.373 261.491 436.95 287.878 445.753C314.264 454.556 320.635 423.605 326.614 405.685C330.301 424.229 332.747 455.75 360.022 450.413C388.495 444.841 376.879 411.904 373.099 392.891C386.101 407.317 405.583 436.34 427.154 417.016C447.817 398.505 423.967 377.633 411.286 363.563C429.269 369.563 457.955 383.074 466.727 356.78C475.499 330.487 444.447 324.068 426.463 318.069C445.052 314.431 476.657 312.059 471.247 284.85C465.599 256.446 432.594 267.958 413.534 271.688C427.973 258.753 457.037 239.387 437.613 217.836C419.006 197.192 398.125 220.931 384.042 233.546C390.02 215.626 403.509 187.05 377.122 178.247Z" fill="#DD3D2E" style="fill:#DD3D2E;fill:color(display-p3 0.8682 0.2392 0.1821);fill-opacity:1;"/>
    <path class="i" d="M321.08 476.318C325.09 456.059 312.514 436.994 301.615 419.451C297.55 412.907 294.814 405.336 293.323 396.566C287.764 363.87 323.176 342.137 355.71 348.577L363.442 350.108C395.976 356.548 420.438 390.133 402.842 418.245C398.122 425.786 392.708 431.744 386.456 436.245C369.696 448.313 350.805 461.149 346.795 481.409C342.784 501.668 355.361 520.733 366.259 538.276C370.325 544.82 373.061 552.391 374.552 561.161C380.111 593.857 344.699 615.59 312.165 609.15L304.432 607.62C271.898 601.179 247.436 567.594 265.033 539.482C269.753 531.941 275.166 525.983 281.418 521.482C298.178 509.414 317.07 496.578 321.08 476.318Z" fill="#EEAE23" style="fill:#EEAE23;fill:color(display-p3 0.9333 0.6812 0.1373);fill-opacity:1;"/>
    <path class="m" d="M194.699 149.356C186.385 107.515 191.366 24.5794 241.603 20.5905C304.461 15.5994 364.113 259.974 296.95 270.155C274.042 273.627 254.489 232.167 244.894 193.353C250.823 221.127 244.285 280.938 209.964 284.473C169.528 288.637 151.75 211.674 145.597 184.012C143.155 209.594 148.251 291.158 111.034 294.233C39.7919 300.118 56.3523 34.0367 128.079 35.4366C170.075 36.2566 186.285 118.361 194.699 149.356Z" fill="#265AAF" style="fill:#265AAF;fill:color(display-p3 0.1496 0.3522 0.6869);fill-opacity:1;"/>
    <path class="f" fill-rule="evenodd" clip-rule="evenodd" d="M305.687 474.712C295.724 472.018 256.538 464.83 216.51 469.048C177.721 473.135 125.479 489.909 112.961 546.691C106.946 573.974 120.472 597.756 136.759 614.892C135.789 616.731 134.887 618.612 134.059 620.534C121.879 648.815 127.29 675.138 136.254 694.479C145.027 713.407 157.849 727.287 164.056 733.53C173.811 743.343 189.675 743.39 199.488 733.634C209.301 723.878 209.347 708.015 199.591 698.202C194.979 693.562 186.885 684.557 181.717 673.407C177.573 664.468 175.801 655.384 178.15 646.03C190.019 652.63 202.598 658.17 215.079 662.431C240.689 671.175 269.959 675.914 294.226 669.851C306.834 666.7 319.667 660.194 328.794 648.163C338.079 635.925 341.288 620.931 340.015 605.249C337.871 578.849 321.093 561.988 300.663 554.154C281.732 546.896 259.377 546.907 238.941 550.507C218.098 554.178 196.578 562.036 178.193 573.281C175.742 574.78 173.307 576.365 170.907 578.034C162.07 568.001 161.12 560.994 161.895 557.479C166.996 534.341 187.934 522.445 221.761 518.881C254.348 515.447 287.213 521.625 292.608 523.084C305.965 526.695 319.722 518.795 323.333 505.437C326.945 492.08 319.044 478.324 305.687 474.712ZM231.27 615.01C226.41 613.351 221.601 611.467 216.913 609.397C226.675 604.974 237.28 601.68 247.633 599.856C263.054 597.14 275.353 598.116 282.723 600.941C288.594 603.193 289.764 605.537 290.07 609.304C290.583 615.623 289.103 617.574 288.875 617.876C288.489 618.385 286.983 620.011 282.079 621.237C271.321 623.925 252.87 622.385 231.27 615.01Z" fill="#F27398" style="fill:#F27398;fill:color(display-p3 0.9501 0.4521 0.5973);fill-opacity:1;"/>
  </svg>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
  const container = document.querySelector('.motif-logo-container');
  const svg = container.querySelector('svg');
  const paths = Array.from(svg.querySelectorAll('path'));

  // Physics constants
  const SPRING_STRENGTH = 0.05;
  const DAMPING = 0.9;
  const RIPPLE_FORCE = 0.8;

  // Scale spring constants
  const SCALE_SPRING_STRENGTH = 0.05;
  const SCALE_DAMPING = 0.9;

  // Store original positions
  const originalPositions = {};
  const letters = {};

  // Initialize letters
  paths.forEach((path) => {
    const bbox = path.getBBox();
    const originalX = bbox.x;
    const originalY = bbox.y;
    const letterKey = path.classList[0];

    originalPositions[letterKey] = { x: originalX, y: originalY };

    letters[letterKey] = {
      element: path,
      x: originalX,
      y: originalY,
      vx: 0,
      vy: 0,
      isDragging: false,
      scale: 1,
      scaleTarget: 1,
      scaleV: 0,
      width: bbox.width,
      height: bbox.height
    };

    // Hover events for scaling
    path.addEventListener('mouseenter', () => {
      letters[letterKey].scaleTarget = 1.1;
    });

    path.addEventListener('mouseleave', () => {
      letters[letterKey].scaleTarget = 1;
    });
  });

  // Helper function to apply transform with center-based scaling
  const applyTransform = (letter) => {
    const key = letter.element.classList[0];
    const origin = originalPositions[key];

    const dx = letter.x - origin.x;
    const dy = letter.y - origin.y;

    const cx = letter.width / 2;
    const cy = letter.height / 2;

    const transformStr = `
      translate(${dx}, ${dy})
      translate(${cx}, ${cy})
      scale(${letter.scale})
      translate(${-cx}, ${-cy})
    `.replace(/\s+/g, ' ').trim();

    letter.element.setAttribute('transform', transformStr);
  };

  // Dragging state
  let activeLetter = null;
  let dragOffsetX = 0;
  let dragOffsetY = 0;

  // Mouse and touch event handlers
  const onDragStart = (e, letterKey) => {
    e.preventDefault();
    activeLetter = letterKey;
    const letter = letters[letterKey];
    letter.isDragging = true;
    const clientX = e.clientX || e.touches[0].clientX;
    const clientY = e.clientY || e.touches[0].clientY;
    dragOffsetX = clientX - letter.x;
    dragOffsetY = clientY - letter.y;
  };

  const onDragMove = (e) => {
    if (activeLetter) {
      const draggedLetter = letters[activeLetter];
      const clientX = e.clientX || e.touches[0].clientX;
      const clientY = e.clientY || e.touches[0].clientY;
      draggedLetter.x = clientX - dragOffsetX;
      draggedLetter.y = clientY - dragOffsetY;

      applyTransform(draggedLetter);

      // Apply ripple force to other letters
      Object.keys(letters).forEach((key) => {
        if (key !== activeLetter) {
          const other = letters[key];
          const dx = draggedLetter.x - other.x;
          const dy = draggedLetter.y - other.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          const force = Math.min(RIPPLE_FORCE / (distance || 1), RIPPLE_FORCE);

          other.vx += force * dx;
          other.vy += force * dy;
        }
      });
    }
  };

  const onDragEnd = () => {
    if (activeLetter) {
      letters[activeLetter].isDragging = false;
      activeLetter = null;
    }
  };

  // Attach event listeners
  paths.forEach((path) => {
    const letterKey = path.classList[0];
    path.addEventListener('mousedown', (e) => onDragStart(e, letterKey));
    path.addEventListener('touchstart', (e) => onDragStart(e, letterKey));
  });

  document.addEventListener('mousemove', onDragMove);
  document.addEventListener('touchmove', onDragMove);
  document.addEventListener('mouseup', onDragEnd);
  document.addEventListener('touchend', onDragEnd);

  // Animation loop
  const animate = () => {
    Object.values(letters).forEach((letter) => {
      // Scale spring update
      const scaleA = (letter.scaleTarget - letter.scale) * SCALE_SPRING_STRENGTH;
      letter.scaleV += scaleA;
      letter.scaleV *= SCALE_DAMPING;
      letter.scale += letter.scaleV;

      if (!letter.isDragging) {
        const key = letter.element.classList[0];
        const origin = originalPositions[key];
        const springX = (origin.x - letter.x) * SPRING_STRENGTH;
        const springY = (origin.y - letter.y) * SPRING_STRENGTH;

        letter.vx += springX;
        letter.vy += springY;

        // Apply damping
        letter.vx *= DAMPING;
        letter.vy *= DAMPING;

        // Update position
        letter.x += letter.vx;
        letter.y += letter.vy;
      }

      applyTransform(letter);
    });

    requestAnimationFrame(animate);
  };

  animate();
});
</script>